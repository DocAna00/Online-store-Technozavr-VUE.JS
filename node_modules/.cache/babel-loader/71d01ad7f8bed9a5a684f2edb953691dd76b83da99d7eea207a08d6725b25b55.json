{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport products from '@/data/products';\nimport ProductList from '@/components/ProductList.vue';\nimport BasePaginatioan from '@/components/BasePaginatioan.vue';\nimport ProductFilter from '@/components/ProductFilter.vue';\nimport CartPage from '@/pages/CartPage.vue';\nexport default {\n  components: {\n    ProductList: ProductList,\n    BasePaginatioan: BasePaginatioan,\n    ProductFilter: ProductFilter,\n    CartPage: CartPage\n  },\n  data: function data() {\n    return {\n      filterPriceFrom: 0,\n      filterPriceTo: 0,\n      filterCategoryId: 0,\n      filterColorId: 0,\n      page: 1,\n      productsPerPage: 3\n    };\n  },\n  computed: {\n    filteredProducts: function filteredProducts() {\n      var _this = this;\n      var filteredProducts = products;\n      if (this.filterPriceFrom > 0) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.price > _this.filterPriceFrom;\n        });\n      }\n      if (this.filterPriceTo > 0) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.price < _this.filterPriceTo;\n        });\n      }\n      if (this.filterCategoryId) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.categoryId === _this.filterCategoryId;\n        });\n      }\n      if (this.filterColorId) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.colorId === _this.filterColorId;\n        });\n      }\n      return filteredProducts;\n    },\n    products: function products() {\n      var offset = (this.page - 1) * this.productsPerPage;\n      return this.filteredProducts.slice(offset, offset + this.productsPerPage);\n    },\n    countProducts: function countProducts() {\n      return this.filteredProducts.length;\n    }\n  }\n};","map":{"version":3,"names":["products","ProductList","BasePaginatioan","ProductFilter","CartPage","components","data","filterPriceFrom","filterPriceTo","filterCategoryId","filterColorId","page","productsPerPage","computed","filteredProducts","_this","filter","product","price","categoryId","colorId","offset","slice","countProducts","length"],"sources":["src/pages/MainPage.vue"],"sourcesContent":["<template>\n  \n  <main class=\"content container\">\n    <div class=\"content__top content__top--catalog\">\n      <h1 class=\"content__title\">\n        Каталог\n      </h1>\n      <span class=\"content__info\">\n        152 товара\n      </span>\n    </div>\n    <div class=\"content__catalog\">\n      <ProductFilter :price-from.sync=\"filterPriceFrom\" :price-to.sync=\"filterPriceTo\"\n        :category-id.sync=\"filterCategoryId\" :color-id.sync=\"filterColorId\"></ProductFilter>\n      <section class=\"catalog\">\n        <ProductList :products=\"products\"></ProductList>\n        <BasePaginatioan v-model=\"page\" :count=\"countProducts\" :per-page=\"productsPerPage\"></BasePaginatioan>\n      </section>\n\n    </div>\n  </main>\n</template>\n\n<script>\nimport products from '@/data/products';\nimport ProductList from '@/components/ProductList.vue';\nimport BasePaginatioan from '@/components/BasePaginatioan.vue';\nimport ProductFilter from '@/components/ProductFilter.vue';\nimport CartPage from '@/pages/CartPage.vue';\n\nexport default {\n  components: { ProductList, BasePaginatioan, ProductFilter, CartPage },\n  data() {\n    return {\n      filterPriceFrom: 0,\n      filterPriceTo: 0,\n      filterCategoryId: 0,\n      filterColorId: 0,\n      page: 1,\n      productsPerPage: 3\n    }\n  },\n  computed: {\n    filteredProducts() {\n      let filteredProducts = products;\n\n      if (this.filterPriceFrom > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price > this.filterPriceFrom);\n      }\n\n      if (this.filterPriceTo > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price < this.filterPriceTo);\n      }\n\n      if (this.filterCategoryId) {\n        filteredProducts = filteredProducts.filter(product => product.categoryId === this.filterCategoryId);\n      }\n\n      if(this.filterColorId) {\n        filteredProducts = filteredProducts.filter(product => product.colorId === this.filterColorId);\n      }\n\n      return filteredProducts;\n    },\n    products() {\n      const offset = (this.page - 1) * this.productsPerPage;\n      return this.filteredProducts.slice(offset, offset + this.productsPerPage);\n    },\n    countProducts() {\n      return this.filteredProducts.length;\n    }\n  }\n}\n</script>"],"mappings":";;;AAwBA,OAAAA,QAAA;AACA,OAAAC,WAAA;AACA,OAAAC,eAAA;AACA,OAAAC,aAAA;AACA,OAAAC,QAAA;AAEA;EACAC,UAAA;IAAAJ,WAAA,EAAAA,WAAA;IAAAC,eAAA,EAAAA,eAAA;IAAAC,aAAA,EAAAA,aAAA;IAAAC,QAAA,EAAAA;EAAA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,eAAA;MACAC,aAAA;MACAC,gBAAA;MACAC,aAAA;MACAC,IAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;IACAC,gBAAA,WAAAA,iBAAA;MAAA,IAAAC,KAAA;MACA,IAAAD,gBAAA,GAAAd,QAAA;MAEA,SAAAO,eAAA;QACAO,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAC,KAAA,GAAAH,KAAA,CAAAR,eAAA;QAAA;MACA;MAEA,SAAAC,aAAA;QACAM,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAC,KAAA,GAAAH,KAAA,CAAAP,aAAA;QAAA;MACA;MAEA,SAAAC,gBAAA;QACAK,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAE,UAAA,KAAAJ,KAAA,CAAAN,gBAAA;QAAA;MACA;MAEA,SAAAC,aAAA;QACAI,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAG,OAAA,KAAAL,KAAA,CAAAL,aAAA;QAAA;MACA;MAEA,OAAAI,gBAAA;IACA;IACAd,QAAA,WAAAA,SAAA;MACA,IAAAqB,MAAA,SAAAV,IAAA,aAAAC,eAAA;MACA,YAAAE,gBAAA,CAAAQ,KAAA,CAAAD,MAAA,EAAAA,MAAA,QAAAT,eAAA;IACA;IACAW,aAAA,WAAAA,cAAA;MACA,YAAAT,gBAAA,CAAAU,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
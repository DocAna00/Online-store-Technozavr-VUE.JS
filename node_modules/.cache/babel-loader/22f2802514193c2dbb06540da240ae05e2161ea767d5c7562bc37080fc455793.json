{"ast":null,"code":"import _objectSpread from \"/Users/anadoc/Desktop/Skillbox Anastasia/Skillbox Projects/Vue.js Shop/Vue.js/07_api_1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport products from '@/data/products';\nimport ProductList from '@/components/ProductList.vue';\nimport BasePaginatioan from '@/components/BasePaginatioan.vue';\nimport ProductFilter from '@/components/ProductFilter.vue';\nimport axios from 'axios';\nexport default {\n  components: {\n    ProductList: ProductList,\n    BasePaginatioan: BasePaginatioan,\n    ProductFilter: ProductFilter\n  },\n  data: function data() {\n    return {\n      filterPriceFrom: 0,\n      filterPriceTo: 0,\n      filterCategoryId: 0,\n      filterColorId: 0,\n      page: 1,\n      productsPerPage: 3,\n      productsData: null\n    };\n  },\n  computed: {\n    filteredProducts: function filteredProducts() {\n      var _this = this;\n      var filteredProducts = products;\n      if (this.filterPriceFrom > 0) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.price > _this.filterPriceFrom;\n        });\n      }\n      if (this.filterPriceTo > 0) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.price < _this.filterPriceTo;\n        });\n      }\n      if (this.filterCategoryId) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.categoryId === _this.filterCategoryId;\n        });\n      }\n      if (this.filterColorId) {\n        filteredProducts = filteredProducts.filter(function (product) {\n          return product.colorId === _this.filterColorId;\n        });\n      }\n      return filteredProducts;\n    },\n    products: function products() {\n      // const offset = (this.page - 1) * this.productsPerPage;\n      // return this.filteredProducts.slice(offset, offset + this.productsPerPage);\n      return this.productsData ? this.productsData.items.map(function (product) {\n        return _objectSpread({}, product);\n      }) : [];\n    },\n    countProducts: function countProducts() {\n      return this.filteredProducts.length;\n    }\n  },\n  methods: {\n    loadProducts: function loadProducts() {\n      var _this2 = this;\n      axios.get('https://vue-study.skillbox.cc/api/products').then(function (response) {\n        return _this2.productsData = response.data;\n      });\n    }\n  },\n  created: function created() {\n    this.loadProducts();\n  }\n};","map":{"version":3,"names":["products","ProductList","BasePaginatioan","ProductFilter","axios","components","data","filterPriceFrom","filterPriceTo","filterCategoryId","filterColorId","page","productsPerPage","productsData","computed","filteredProducts","_this","filter","product","price","categoryId","colorId","items","map","_objectSpread","countProducts","length","methods","loadProducts","_this2","get","then","response","created"],"sources":["src/pages/MainPage.vue"],"sourcesContent":["<template>\n  <main class=\"content container\">\n    <div class=\"content__top content__top--catalog\">\n      <h1 class=\"content__title\">\n        Каталог\n      </h1>\n      <span class=\"content__info\">\n        152 товара\n      </span>\n    </div>\n    <div class=\"content__catalog\">\n      <ProductFilter :price-from.sync=\"filterPriceFrom\" :price-to.sync=\"filterPriceTo\"\n        :category-id.sync=\"filterCategoryId\" :color-id.sync=\"filterColorId\"></ProductFilter>\n      <section class=\"catalog\">\n        <ProductList :products=\"products\"></ProductList>\n        <BasePaginatioan v-model=\"page\" :count=\"countProducts\" :per-page=\"productsPerPage\"></BasePaginatioan>\n      </section>\n\n    </div>\n  </main>\n</template>\n\n<script>\nimport products from '@/data/products';\nimport ProductList from '@/components/ProductList.vue';\nimport BasePaginatioan from '@/components/BasePaginatioan.vue';\nimport ProductFilter from '@/components/ProductFilter.vue';\nimport axios from 'axios';\n\nexport default {\n  components: { ProductList, BasePaginatioan, ProductFilter },\n  data() {\n    return {\n      filterPriceFrom: 0,\n      filterPriceTo: 0,\n      filterCategoryId: 0,\n      filterColorId: 0,\n      page: 1,\n      productsPerPage: 3,\n      productsData: null\n    }\n  },\n  computed: {\n    filteredProducts() {\n      let filteredProducts = products;\n\n      if (this.filterPriceFrom > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price > this.filterPriceFrom);\n      }\n\n      if (this.filterPriceTo > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price < this.filterPriceTo);\n      }\n\n      if (this.filterCategoryId) {\n        filteredProducts = filteredProducts.filter(product => product.categoryId === this.filterCategoryId);\n      }\n\n      if(this.filterColorId) {\n        filteredProducts = filteredProducts.filter(product => product.colorId === this.filterColorId);\n      }\n\n      return filteredProducts;\n    },\n    products() {\n      // const offset = (this.page - 1) * this.productsPerPage;\n      // return this.filteredProducts.slice(offset, offset + this.productsPerPage);\n      return this.productsData \n      ? this.productsData.items.map(product => {\n        return {\n          ...product,\n        }\n      }\n\n      ) : [];\n    },\n    countProducts() {\n      return this.filteredProducts.length;\n    }\n  },\n  methods: {\n    loadProducts() {\n      axios.get('https://vue-study.skillbox.cc/api/products')\n            .then(response => this.productsData = response.data);\n    }\n  },\n  created() {\n    this.loadProducts();\n  }\n}\n</script>"],"mappings":";;;;AAuBA,OAAAA,QAAA;AACA,OAAAC,WAAA;AACA,OAAAC,eAAA;AACA,OAAAC,aAAA;AACA,OAAAC,KAAA;AAEA;EACAC,UAAA;IAAAJ,WAAA,EAAAA,WAAA;IAAAC,eAAA,EAAAA,eAAA;IAAAC,aAAA,EAAAA;EAAA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,eAAA;MACAC,aAAA;MACAC,gBAAA;MACAC,aAAA;MACAC,IAAA;MACAC,eAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACAC,gBAAA,WAAAA,iBAAA;MAAA,IAAAC,KAAA;MACA,IAAAD,gBAAA,GAAAf,QAAA;MAEA,SAAAO,eAAA;QACAQ,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAC,KAAA,GAAAH,KAAA,CAAAT,eAAA;QAAA;MACA;MAEA,SAAAC,aAAA;QACAO,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAC,KAAA,GAAAH,KAAA,CAAAR,aAAA;QAAA;MACA;MAEA,SAAAC,gBAAA;QACAM,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAE,UAAA,KAAAJ,KAAA,CAAAP,gBAAA;QAAA;MACA;MAEA,SAAAC,aAAA;QACAK,gBAAA,GAAAA,gBAAA,CAAAE,MAAA,WAAAC,OAAA;UAAA,OAAAA,OAAA,CAAAG,OAAA,KAAAL,KAAA,CAAAN,aAAA;QAAA;MACA;MAEA,OAAAK,gBAAA;IACA;IACAf,QAAA,WAAAA,SAAA;MACA;MACA;MACA,YAAAa,YAAA,GACA,KAAAA,YAAA,CAAAS,KAAA,CAAAC,GAAA,WAAAL,OAAA;QACA,OAAAM,aAAA,KACAN,OAAA;MAEA,CAEA;IACA;IACAO,aAAA,WAAAA,cAAA;MACA,YAAAV,gBAAA,CAAAW,MAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAA,WAAAA,aAAA;MAAA,IAAAC,MAAA;MACAzB,KAAA,CAAA0B,GAAA,+CACAC,IAAA,WAAAC,QAAA;QAAA,OAAAH,MAAA,CAAAhB,YAAA,GAAAmB,QAAA,CAAA1B,IAAA;MAAA;IACA;EACA;EACA2B,OAAA,WAAAA,QAAA;IACA,KAAAL,YAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}